<% layout("/layouts/boilerplate") %>

<style>
  .employee-container {
    max-width: 1000px;
    margin: 40px auto;
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    color: #333;
    padding: 0 20px;
  }

  .page-title {
    font-size: 2.4rem;
    font-weight: 700;
    color: #b22222;
    text-align: center;
    margin-bottom: 30px;
  }

  .add-button {
    display: inline-block;
    padding: 10px 20px;
    background-color: #b22222;
    color: #fff;
    font-weight: 600;
    text-decoration: none;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(178, 34, 34, 0.2);
    transition: background-color 0.3s ease;
    margin-bottom: 30px;
  }

  .add-button:hover {
    background-color: #7a1212;
  }

  .employee-card {
    background-color: #fff;
    border-left: 6px solid #b22222;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
    border-radius: 12px;
    padding: 20px 24px;
    margin-bottom: 20px;
    transition: transform 0.2s ease;
  }

  .employee-card:hover {
    transform: translateY(-4px);
  }

  .employee-card p {
    margin: 6px 0;
    line-height: 1.5;
  }

  .employee-actions {
    margin-top: 16px;
  }

  .employee-actions a,
  .employee-actions button {
    display: inline-block;
    padding: 8px 16px;
    font-size: 0.9rem;
    font-weight: 600;
    border-radius: 6px;
    margin-right: 10px;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .edit-btn {
    background-color: transparent;
    color: #b22222;
    border: 2px solid #b22222;
  }

  .edit-btn:hover {
    background-color: #b22222;
    color: #fff;
  }

  .delete-btn {
    background-color: #fff0f0;
    border: 2px solid #dc143c;
    color: #dc143c;
  }

  .delete-btn:hover {
    background-color: #dc143c;
    color: #fff;
  }

  @media (max-width: 600px) {
    .employee-card {
      padding: 16px;
    }

    .employee-actions a,
    .employee-actions button {
      font-size: 0.85rem;
      padding: 7px 12px;
    }
  }
</style>

<div class="employee-container">
  <h1 class="page-title">Employee List</h1>
  <a href="/employee/new" class="add-button">+ Add Employee</a>

  <% employees.forEach(employee => { %>
  <div class="employee-card">
    <p><strong>Name:</strong> <%= employee.name %></p>
    <p><strong>Position:</strong> <%= employee.position %></p>
    <p><strong>Email:</strong> <%= employee.email %></p>
    <p>
      <strong>Created At:</strong>
      <%= employee.createdAt ? employee.createdAt.toLocaleString() : "Unknown"
      %> <% if (employee.createBy && employee.createBy.username) { %> by <%=
      employee.createBy.username %> <% } %>
    </p>

    <div class="employee-actions">
      <a href="/employee/<%= employee._id %>/edit" class="edit-btn">Edit</a>
      <form
        action="/employee/<%= employee._id %>?_method=DELETE"
        method="POST"
        style="display: inline"
      >
        <button
          type="submit"
          class="delete-btn"
          onclick="return confirm('Are you sure you want to delete this employee?');"
        >
          Delete
        </button>
      </form>
    </div>
  </div>
  <% }) %>
</div>
